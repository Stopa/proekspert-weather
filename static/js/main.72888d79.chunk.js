(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"i",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"g",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return p});var o=n(2),r="SET_QUERY";function a(e){return{type:r,payload:{query:e}}}var i="SET_ERROR";function c(e){return{type:i,payload:{message:e}}}var s="SET_MODE";function d(e){if(!Object.keys(o.a).includes(e))throw new Error("Invalid temperature mode provided: ".concat(e));return{type:s,payload:{mode:e}}}var l="SHOW_RESULTS";var u="HIDE_RESULTS";function p(){return{type:u}}},function(e,t,n){"use strict";t.a={C:"C",F:"F"}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return w});var o=n(18),r=n.n(o),a=n(24),i=n(1),c=n(25),s="REQUEST_FORECAST";var d="RECEIVE_FORECAST";function l(e){return{type:d,payload:{forecast:e}}}function u(e){var t=e.date_epoch,n=e.day;return{date:1e3*t,conditionCode:n.condition.code,maxTempC:n.maxtemp_c,maxTempF:n.maxtemp_f,minTempC:n.mintemp_c,minTempF:n.mintemp_f,avgTempC:n.avgtemp_c,avgTempF:n.avgtemp_f}}var p="weatherAppCache";function m(){return function(){var e=Object(a.a)(r.a.mark(function e(t,n){var o,a,d,m,w,h,f,g,_,v,y,E,b,T,C,N;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n(),a=o.ui.query,t({type:s}),e.prev=2,d=window.location.protocol,(m=new URL("".concat(d,"//api.apixu.com/v1/forecast.json"))).searchParams.set("days","7"),m.searchParams.set("q",a),m.searchParams.set("key",c.api_key),e.next=10,fetch(m);case 10:return w=e.sent,e.next=13,w.json();case 13:if(!(h=e.sent).error){e.next=16;break}throw new Error(h.error.message);case 16:return f=h.current,g=f.last_updated_epoch,_=f.condition.code,v=f.temp_c,y=f.temp_f,E=h.forecast.forecastday,b={date:1e3*g,conditionCode:_,tempC:v,tempF:y},T=E.map(u),C={location:h.location.name,current:b,days:T},window.localStorage.setItem(p,JSON.stringify(C)),e.abrupt("return",t(l(C)));case 24:return e.prev=24,e.t0=e.catch(2),N=e.t0.message,e.abrupt("return",t(Object(i.g)(N)));case 28:case"end":return e.stop()}},e,null,[[2,24]])}));return function(t,n){return e.apply(this,arguments)}}()}function w(e){return function(t){return t(l(e)),t(m())}}},,function(e,t,n){e.exports={ResultsView:"ResultsView_ResultsView__1WBJ0",Header:"ResultsView_Header__14Zg0",end:"ResultsView_end__1MCWP",BackButton:"ResultsView_BackButton__2Uh30",Now:"ResultsView_Now__26F7r",Now_Condition_Text:"ResultsView_Now_Condition_Text__2TscT",Now_Body:"ResultsView_Now_Body__3snN8",Now_Condition:"ResultsView_Now_Condition__F8l7c",icon:"ResultsView_icon__3CYnk",TemperaturesTable:"ResultsView_TemperaturesTable__1WBot",Days:"ResultsView_Days__1Rxud"}},,,,,function(e,t,n){e.exports={TempModeToggle:"TempModeToggle_TempModeToggle__3O34g",Handle:"TempModeToggle_Handle__3VTcC",TempModeToggleActive:"TempModeToggle_TempModeToggleActive__hehfn",Inner:"TempModeToggle_Inner__tncWo"}},,function(e){e.exports={1000:{code:1e3,description:"Clear",icon:"wi-day-sunny"},1003:{code:1003,description:"Partly cloudy",icon:"wi-day-sunny-overcast"},1006:{code:1006,description:"Cloudy",icon:"wi-day-cloudy"},1009:{code:1009,description:"Overcast",icon:"wi-day-sunny-overcast"},1030:{code:1030,description:"Mist",icon:"wi-fog"},1063:{code:1063,description:"Patchy rain possible",icon:"wi-rain-mix"},1066:{code:1066,description:"Patchy snow possible",icon:"wi-snow"},1069:{code:1069,description:"Patchy sleet possible",icon:"wi-sleet"},1072:{code:1072,description:"Patchy freezing drizzle possible",icon:"wi-raindrops"},1087:{code:1087,description:"Thundery outbreaks possible",icon:"wi-thunderstorm"},1114:{code:1114,description:"Blowing snow",icon:"wi-snow-wind"},1117:{code:1117,description:"Blizzard",icon:"wi-snow-wind"},1135:{code:1135,description:"Fog",icon:"wi-fog"},1147:{code:1147,description:"Freezing fog",icon:"wi-fog"},1150:{code:1150,description:"Patchy light drizzle",icon:"wi-showers"},1153:{code:1153,description:"Light drizzle",icon:"wi-showers"},1168:{code:1168,description:"Freezing drizzle",icon:"wi-hail"},1178:{code:1171,description:"Heavy freezing drizzle",icon:"wi-hail"},1180:{code:1180,description:"Patchy light rain",icon:"wi-showers"},1183:{code:1183,description:"Light rain",icon:"wi-showers"},1186:{code:1186,description:"Moderate rain at times",icon:"wi-rain"},1189:{code:1189,description:"Moderate rain",icon:"wi-rain"},1192:{code:1192,description:"Heavy rain at times",icon:"wi-rain"},1195:{code:1195,description:"Heavy rain",icon:"wi-rain"},1198:{code:1198,description:"Light freezing rain",icon:"wi-sleet"},1201:{code:1201,description:"Moderate or heavy freezing rain",icon:"wi-sleet"},1204:{code:1204,description:"Light sleet",icon:"wi-sleet"},1207:{code:1207,description:"Moderate or heavy sleet",icon:"wi-sleet"},1210:{code:1210,description:"Patchy light snow",icon:"wi-snow"},1213:{code:1213,description:"Light snow",icon:"wi-snow"},1216:{code:1216,description:"Patchy moderate snow",icon:"wi-snow"},1219:{code:1219,description:"Moderate snow",icon:"wi-snow"},1222:{code:1222,description:"Patchy heavy snow",icon:"wi-snow-wind"},1225:{code:1225,description:"Heavy snow",icon:"wi-snow-wind"},1237:{code:1237,description:"Ice pellets",icon:"wi-hail"},1240:{code:1240,description:"Light rain shower",icon:"wi-showers"},1243:{code:1243,description:"Moderate or heavy rain shower",icon:"wi-showers"},1246:{code:1246,description:"Torrential rain shower",icon:"wi-rain"},1249:{code:1249,description:"Light sleet showers",icon:"wi-sleet"},1252:{code:1252,description:"Moderate or heavy sleet showers",icon:"wi-sleet"},1255:{code:1255,description:"Light snow showers",icon:"wi-snow"},1258:{code:1258,description:"Moderate or heavy snow showers",icon:"wi-hail"},1261:{code:1261,description:"Light showers of ice pellets",icon:"wi-hail"},1264:{code:1264,description:"Moderate or heavy showers of ice pellets",icon:"wi-hail"},1273:{code:1273,description:"Patchy light rain with thunder",icon:"wi-storm-showers"},1276:{code:1276,description:"Moderate or heavy rain with thunder",icon:"wi-thunderstorm"},1279:{code:1279,description:"Patchy light snow with thunder",icon:"wi-snow-wind"},1282:{code:1282,description:"Moderate or heavy snow with thunder",icon:"wi-snow-wind"}}},function(e,t,n){e.exports={SearchForm:"SearchView_SearchForm__3Cq35",SearchForm_control:"SearchView_SearchForm_control__Xd8vM",SearchForm_gps:"SearchView_SearchForm_gps__2n8SH"}},,,,function(e,t,n){e.exports=n(43)},,function(e,t,n){e.exports={DayBlock:"DayBlock_DayBlock__1F3So",icon:"DayBlock_icon__1mHCv"}},,,,,,function(e){e.exports={api_key:"9fa727d560ab4ba2bc1200331190506"}},function(e,t,n){e.exports={AppContainer:"AppContainer_AppContainer__3Gsm_"}},function(e,t,n){e.exports={LoadingIndicator:"LoadingIndicator_LoadingIndicator__3V0ld",spin:"LoadingIndicator_spin__3R1kJ"}},function(e,t,n){e.exports={ErrorContainer:"ErrorContainer_ErrorContainer__3DB_p"}},,function(e,t,n){e.exports=n(42)},,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(11),i=n.n(a),c=(n(35),n(4)),s=n(17),d=n.n(s),l=n(3),u=n(26),p=n.n(u),m=n(27),w=n.n(m);var h=function(){return r.a.createElement("div",{className:"material-icons ".concat(w.a.LoadingIndicator),"aria-label":"Loading"},"sync")},f=n(28),g=n.n(f);var _=function(e){var t=e.message;return r.a.createElement("div",{className:g.a.ErrorContainer},t)},v=n(13),y=n.n(v),E=n(1);var b=Object(c.b)(function(e){return{query:e.ui.query}},function(e){return{changeQuery:function(t){return e(Object(E.i)(t))},doSearch:function(){return e(Object(l.d)())},doSetError:function(t){return e(Object(E.g)(t))}}})(function(e){var t=e.query,n=e.changeQuery,a=e.doSearch,i=e.doSetError,c=Object(o.useCallback)(function(e){n(e.currentTarget.value.trimStart())},[n]),s=Object(o.useCallback)(function(e){e.preventDefault(),a()},[a]),d=Object(o.useCallback)(function(e){var t=e.coords,o=t.latitude,r=t.longitude;n([o,r].join(",")),a()},[n,a]),l=Object(o.useCallback)(function(){i("Could not get current position")},[i]),u=Object(o.useCallback)(function(){return navigator&&navigator.geolocation?(navigator.geolocation.getCurrentPosition(d,l),null):(Object(E.g)("Your browser does not support geolocation."),null)},[d,l]);return r.a.createElement("form",{action:"#",onSubmit:s,className:y.a.SearchForm},r.a.createElement("div",{className:y.a.SearchForm_control},r.a.createElement("div",null,r.a.createElement("input",{type:"search",placeholder:"City","aria-label":"Enter your location",value:t||"",onChange:c})),r.a.createElement("button",{type:"submit",className:"material-icons",disabled:""===t},"search")),"or",r.a.createElement("button",{type:"button",className:y.a.SearchForm_gps,onClick:u},"use my"," ",r.a.createElement("u",null,"current position")))}),T=n(29),C=n(9),N=n.n(C),O=n(5),S=n.n(O),j=n(12),k=n(19),R=n.n(k);var M=function(e){var t=e.code,n=j[t];if(!n)throw new Error("Invalid condition code provided.");return r.a.createElement("i",{"aria-label":n.description,title:n.description,className:"wi ".concat(n.icon)})},x=n(2);function F(e,t){var n=Object(c.c)(function(e){return e.ui.mode}),o=n===x.a.C?e:t;return"".concat(o,"\xb0").concat(n)}var B=function(e){var t=e.date,n=e.avgTempC,o=e.avgTempF,a=e.conditionCode,i=F(n,o);return r.a.createElement("article",{className:R.a.DayBlock},r.a.createElement("time",{dateTime:t},N()(t).format("dddd")),r.a.createElement("span",{className:R.a.icon},r.a.createElement(M,{code:a})),i)},V=n(10),L=n.n(V);var z=Object(c.b)(function(e){return{mode:e.ui.mode}},function(e){return{changeMode:function(t){return e(Object(E.h)(t))}}})(function(e){var t=e.mode,n=e.changeMode,a=Object.keys(x.a),i=a.find(function(e){return x.a[e]!==t});if(void 0===i)throw new Error("Cannot find a temperature mode to toggle to.");var c=x.a[i],s=Object(o.useCallback)(function(){n(c)},[n,c]),d=[L.a.TempModeToggle];return t===x.a[a[1]]&&d.push(L.a.TempModeToggleActive),r.a.createElement("button",{type:"button",className:d.join(" "),onClick:s,"aria-label":"Show temperature in \xb0".concat(c)},r.a.createElement("span",{className:L.a.Inner},r.a.createElement("span",null,"\xb0".concat(x.a[a[0]])),r.a.createElement("span",{className:L.a.Handle}),r.a.createElement("span",null,"\xb0".concat(x.a[a[1]]))))});var I=Object(c.b)(function(e){var t=e.forecast,n=e.ui.query;return Object(T.a)({},t,{query:n})},function(e){return{goToSearch:function(){return e(Object(E.f)())}}})(function(e){var t=e.goToSearch,n=e.current,o=e.days,a=e.query,i=n.tempC,c=n.tempF,s=j[n.conditionCode];if(!s)throw new Error("Invalid condition code provided.");var d=F(i,c),l=o[0],u=F(l.maxTempC,l.maxTempF),p=F(l.minTempC,l.minTempF),m=F(l.avgTempC,l.avgTempF);return r.a.createElement("section",{className:S.a.ResultsView},r.a.createElement("header",{className:S.a.Header},r.a.createElement("button",{type:"button","aria-label":"Back to search",className:"".concat(S.a.BackButton," material-icons"),onClick:t},"arrow_back"),r.a.createElement("h1",null,a),r.a.createElement("span",{className:S.a.end},r.a.createElement(z,null))),r.a.createElement("article",{className:S.a.Now},r.a.createElement("time",{dateTime:n.date},N()(n.date).format("dddd, MMMM Do YYYY")),r.a.createElement("div",{className:S.a.Now_Condition_Text},s.description),r.a.createElement("section",{className:S.a.Now_Body},r.a.createElement("section",{className:S.a.Now_Condition},d,r.a.createElement("span",{className:S.a.icon},r.a.createElement(M,{code:n.conditionCode}))),r.a.createElement("table",{className:S.a.TemperaturesTable},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Highest"),r.a.createElement("td",null,u)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Lowest"),r.a.createElement("td",null,p)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Average"),r.a.createElement("td",null,m)))))),r.a.createElement("section",{className:S.a.Days},o.map(function(e){return r.a.createElement(B,Object.assign({key:N()(e.date).unix()},e))})))});var P=Object(c.b)(function(e){var t=e.ui,n=t.loading;return{showResults:t.showResults,loading:n,error:t.error}})(function(e){var t=e.showResults,n=e.loading,o=e.error;return r.a.createElement("main",{className:p.a.AppContainer},n&&r.a.createElement(h,null),o&&r.a.createElement(_,{message:o}),t?r.a.createElement(I,null):r.a.createElement(b,null))});var H=function(){return Object(o.useEffect)(function(){var e=JSON.parse(window.localStorage.getItem(l.c));null!==e&&d.a.dispatch(Object(l.e)(e))},[]),r.a.createElement(c.a,{store:d.a},r.a.createElement(P,null))},D=document.getElementById("root");if(!D)throw new Error("Root element not found.");i.a.render(r.a.createElement(H,null),D)},function(e,t,n){"use strict";n.r(t);var o=n(6),r=n(23),a=n(2),i=n(1),c=n(3);var s=Object(o.c)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.d:return t.payload.query;case c.a:return t.payload.forecast.location;default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.c:return t.payload.mode;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.b:return t.payload.message;case c.a:return null;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case c.b:return!0;case c.a:case i.b:return!1;default:return e}},showResults:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case i.e:case c.a:return!0;case i.a:case i.b:return!1;default:return e}}});var d=Object(o.c)({ui:s,forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:var n=t.payload.forecast;return{current:n.current,days:n.days};default:return e}}});t.default=Object(o.d)(d,Object(o.a)(r.a))}],[[30,1,2]]]);
//# sourceMappingURL=main.72888d79.chunk.js.map