(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){e.exports={ResultsView:"ResultsView_ResultsView__1WBJ0",Header:"ResultsView_Header__14Zg0",end:"ResultsView_end__1MCWP",BackButton:"ResultsView_BackButton__2Uh30",Now:"ResultsView_Now__26F7r",Now_Condition_Text:"ResultsView_Now_Condition_Text__2TscT",Now_Body:"ResultsView_Now_Body__3snN8",Now_Condition:"ResultsView_Now_Condition__F8l7c",icon:"ResultsView_icon__3CYnk",TemperaturesTable:"ResultsView_TemperaturesTable__1WBot",Days:"ResultsView_Days__1Rxud"}},,,,,function(e,t,n){e.exports={TempModeToggle:"TempModeToggle_TempModeToggle__3O34g",Handle:"TempModeToggle_Handle__3VTcC",TempModeToggleActive:"TempModeToggle_TempModeToggleActive__hehfn",Inner:"TempModeToggle_Inner__tncWo"}},,function(e){e.exports={1000:{code:1e3,description:"Clear",icon:"wi-day-sunny"},1003:{code:1003,description:"Partly cloudy",icon:"wi-day-sunny-overcast"},1006:{code:1006,description:"Cloudy",icon:"wi-day-cloudy"},1009:{code:1009,description:"Overcast",icon:"wi-day-sunny-overcast"},1030:{code:1030,description:"Mist",icon:"wi-fog"},1063:{code:1063,description:"Patchy rain possible",icon:"wi-rain-mix"},1066:{code:1066,description:"Patchy snow possible",icon:"wi-snow"},1069:{code:1069,description:"Patchy sleet possible",icon:"wi-sleet"},1072:{code:1072,description:"Patchy freezing drizzle possible",icon:"wi-raindrops"},1087:{code:1087,description:"Thundery outbreaks possible",icon:"wi-thunderstorm"},1114:{code:1114,description:"Blowing snow",icon:"wi-snow-wind"},1117:{code:1117,description:"Blizzard",icon:"wi-snow-wind"},1135:{code:1135,description:"Fog",icon:"wi-fog"},1147:{code:1147,description:"Freezing fog",icon:"wi-fog"},1150:{code:1150,description:"Patchy light drizzle",icon:"wi-showers"},1153:{code:1153,description:"Light drizzle",icon:"wi-showers"},1168:{code:1168,description:"Freezing drizzle",icon:"wi-hail"},1178:{code:1171,description:"Heavy freezing drizzle",icon:"wi-hail"},1180:{code:1180,description:"Patchy light rain",icon:"wi-showers"},1183:{code:1183,description:"Light rain",icon:"wi-showers"},1186:{code:1186,description:"Moderate rain at times",icon:"wi-rain"},1189:{code:1189,description:"Moderate rain",icon:"wi-rain"},1192:{code:1192,description:"Heavy rain at times",icon:"wi-rain"},1195:{code:1195,description:"Heavy rain",icon:"wi-rain"},1198:{code:1198,description:"Light freezing rain",icon:"wi-sleet"},1201:{code:1201,description:"Moderate or heavy freezing rain",icon:"wi-sleet"},1204:{code:1204,description:"Light sleet",icon:"wi-sleet"},1207:{code:1207,description:"Moderate or heavy sleet",icon:"wi-sleet"},1210:{code:1210,description:"Patchy light snow",icon:"wi-snow"},1213:{code:1213,description:"Light snow",icon:"wi-snow"},1216:{code:1216,description:"Patchy moderate snow",icon:"wi-snow"},1219:{code:1219,description:"Moderate snow",icon:"wi-snow"},1222:{code:1222,description:"Patchy heavy snow",icon:"wi-snow-wind"},1225:{code:1225,description:"Heavy snow",icon:"wi-snow-wind"},1237:{code:1237,description:"Ice pellets",icon:"wi-hail"},1240:{code:1240,description:"Light rain shower",icon:"wi-showers"},1243:{code:1243,description:"Moderate or heavy rain shower",icon:"wi-showers"},1246:{code:1246,description:"Torrential rain shower",icon:"wi-rain"},1249:{code:1249,description:"Light sleet showers",icon:"wi-sleet"},1252:{code:1252,description:"Moderate or heavy sleet showers",icon:"wi-sleet"},1255:{code:1255,description:"Light snow showers",icon:"wi-snow"},1258:{code:1258,description:"Moderate or heavy snow showers",icon:"wi-hail"},1261:{code:1261,description:"Light showers of ice pellets",icon:"wi-hail"},1264:{code:1264,description:"Moderate or heavy showers of ice pellets",icon:"wi-hail"},1273:{code:1273,description:"Patchy light rain with thunder",icon:"wi-storm-showers"},1276:{code:1276,description:"Moderate or heavy rain with thunder",icon:"wi-thunderstorm"},1279:{code:1279,description:"Patchy light snow with thunder",icon:"wi-snow-wind"},1282:{code:1282,description:"Moderate or heavy snow with thunder",icon:"wi-snow-wind"}}},function(e,t,n){e.exports={SearchForm:"SearchView_SearchForm__3Cq35",SearchForm_control:"SearchView_SearchForm_control__Xd8vM",SearchForm_gps:"SearchView_SearchForm_gps__2n8SH"}},,,,,,function(e,t,n){e.exports={DayBlock:"DayBlock_DayBlock__1F3So",icon:"DayBlock_icon__1mHCv"}},,,,,,function(e){e.exports={api_key:"9fa727d560ab4ba2bc1200331190506"}},function(e,t,n){e.exports={AppContainer:"AppContainer_AppContainer__3Gsm_"}},function(e,t,n){e.exports={LoadingIndicator:"LoadingIndicator_LoadingIndicator__3V0ld",spin:"LoadingIndicator_spin__3R1kJ"}},function(e,t,n){e.exports={ErrorContainer:"ErrorContainer_ErrorContainer__3DB_p"}},,function(e,t,n){e.exports=n(39)},,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(8),i=n.n(r),c=(n(32),n(1)),s=n(3),d=n(19),l=n(20),u=n.n(l),p={C:"C",F:"F"},m="SET_QUERY";var w="SET_ERROR";function h(e){return{type:w,payload:{message:e}}}var g="SET_MODE";var _="SHOW_RESULTS";var f="HIDE_RESULTS";var v=n(15),y=n.n(v),E=n(21),b=n(22),T="REQUEST_FORECAST";var C="RECEIVE_FORECAST";function N(e){return{type:C,payload:{forecast:e}}}var S="weatherAppCache";function k(){return function(){var e=Object(E.a)(y.a.mark(function e(t,n){var o,a,r,i,c,s,d,l,u,p,m,w,g,_,f;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n(),a=o.ui.query,t({type:T}),e.prev=2,(r=new URL("http://api.apixu.com/v1/forecast.json")).searchParams.set("days","7"),r.searchParams.set("q",a),r.searchParams.set("key",b.api_key),e.next=9,fetch(r);case 9:return i=e.sent,e.next=12,i.json();case 12:if(!(c=e.sent).error){e.next=15;break}throw new Error(c.error.message);case 15:return s=c.current,d=s.last_updated_epoch,l=s.condition.code,u=s.temp_c,p=s.temp_f,m=c.forecast.forecastday,w={date:1e3*d,conditionCode:l,tempC:u,tempF:p},g=m.map(function(e){var t=e.date_epoch,n=e.day;return{date:1e3*t,conditionCode:n.condition.code,maxTempC:n.maxtemp_c,maxTempF:n.maxtemp_f,minTempC:n.mintemp_c,minTempF:n.mintemp_f,avgTempC:n.avgtemp_c,avgTempF:n.avgtemp_f}}),_={location:c.location.name,current:w,days:g},window.localStorage.setItem(S,JSON.stringify(_)),e.abrupt("return",t(N(_)));case 23:return e.prev=23,e.t0=e.catch(2),f=e.t0.message,e.abrupt("return",t(h(f)));case 27:case"end":return e.stop()}},e,null,[[2,23]])}));return function(t,n){return e.apply(this,arguments)}}()}var R=Object(s.c)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload.query;case C:return t.payload.forecast.location;default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload.mode;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload.message;case C:return null;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case T:return!0;case C:case w:return!1;default:return e}},showResults:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:case C:return!0;case f:case w:return!1;default:return e}}});var M=Object(s.c)({ui:R,forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.payload.forecast;return{current:n.current,days:n.days};default:return e}}}),O=Object(s.d)(M,Object(s.a)(d.a,u.a)),F=n(23),x=n.n(F),j=n(24),B=n.n(j);var V=function(){return a.a.createElement("div",{className:"material-icons ".concat(B.a.LoadingIndicator),"aria-label":"Loading"},"sync")},L=n(25),z=n.n(L);var I=function(e){var t=e.message;return a.a.createElement("div",{className:z.a.ErrorContainer},t)},P=n(10),H=n.n(P);var D=Object(c.b)(function(e){return{query:e.ui.query}},function(e){return{changeQuery:function(t){return e(function(e){return{type:m,payload:{query:e}}}(t))},doSearch:function(){return e(k())},doSetError:function(t){return e(h(t))}}})(function(e){var t=e.query,n=e.changeQuery,r=e.doSearch,i=e.doSetError,c=Object(o.useCallback)(function(e){n(e.currentTarget.value.trim())},[n]),s=Object(o.useCallback)(function(e){e.preventDefault(),r()},[r]),d=Object(o.useCallback)(function(e){var t=e.coords,o=t.latitude,a=t.longitude;n([o,a].join(",")),r()},[n,r]),l=Object(o.useCallback)(function(){i("Could not get current position")},[i]),u=Object(o.useCallback)(function(){return navigator&&navigator.geolocation?(navigator.geolocation.getCurrentPosition(d,l),null):(h("Your browser does not support geolocation."),null)},[d,l]);return a.a.createElement("form",{action:"#",onSubmit:s,className:H.a.SearchForm},a.a.createElement("div",{className:H.a.SearchForm_control},a.a.createElement("div",null,a.a.createElement("input",{type:"search",placeholder:"City","aria-label":"Enter your location",value:t||"",onChange:c})),a.a.createElement("button",{type:"submit",className:"material-icons",disabled:""===t},"search")),"or",a.a.createElement("button",{type:"button",className:H.a.SearchForm_gps,onClick:u},"use my"," ",a.a.createElement("u",null,"current position")))}),q=n(26),A=n(6),Y=n.n(A),J=n(2),U=n.n(J),W=n(9),Q=n(16),G=n.n(Q);var X=function(e){var t=e.code,n=W[t];if(!n)throw new Error("Invalid condition code provided.");return a.a.createElement("i",{"aria-label":n.description,title:n.description,className:"wi ".concat(n.icon)})};function Z(e,t){var n=Object(c.c)(function(e){return e.ui.mode}),o=n===p.C?e:t;return"".concat(o,"\xb0").concat(n)}var K=function(e){var t=e.date,n=e.avgTempC,o=e.avgTempF,r=e.conditionCode,i=Z(n,o);return a.a.createElement("article",{className:G.a.DayBlock},a.a.createElement("time",{dateTime:t},Y()(t).format("dddd")),a.a.createElement("span",{className:G.a.icon},a.a.createElement(X,{code:r})),i)},$=n(7),ee=n.n($);var te=Object(c.b)(function(e){return{mode:e.ui.mode}},function(e){return{changeMode:function(t){return e(function(e){if(!Object.keys(p).includes(e))throw new Error("Invalid temperature mode provided: ".concat(e));return{type:g,payload:{mode:e}}}(t))}}})(function(e){var t=e.mode,n=e.changeMode,r=Object.keys(p),i=r.find(function(e){return p[e]!==t});if(void 0===i)throw new Error("Cannot find a temperature mode to toggle to.");var c=p[i],s=Object(o.useCallback)(function(){n(c)},[n,c]),d=[ee.a.TempModeToggle];return t===p[r[1]]&&d.push(ee.a.TempModeToggleActive),a.a.createElement("button",{type:"button",className:d.join(" "),onClick:s,"aria-label":"Show temperature in \xb0".concat(c)},a.a.createElement("span",{className:ee.a.Inner},a.a.createElement("span",null,"\xb0".concat(p[r[0]])),a.a.createElement("span",{className:ee.a.Handle}),a.a.createElement("span",null,"\xb0".concat(p[r[1]]))))});var ne=Object(c.b)(function(e){var t=e.forecast,n=e.ui.query;return Object(q.a)({},t,{query:n})},function(e){return{goToSearch:function(){return e({type:f})}}})(function(e){var t=e.goToSearch,n=e.current,o=e.days,r=e.query,i=n.tempC,c=n.tempF,s=W[n.conditionCode];if(!s)throw new Error("Invalid condition code provided.");var d=Z(i,c),l=o[0],u=Z(l.maxTempC,l.maxTempF),p=Z(l.minTempC,l.minTempF),m=Z(l.avgTempC,l.avgTempF);return a.a.createElement("section",{className:U.a.ResultsView},a.a.createElement("header",{className:U.a.Header},a.a.createElement("button",{type:"button","aria-label":"Back to search",className:"".concat(U.a.BackButton," material-icons"),onClick:t},"arrow_back"),a.a.createElement("h1",null,r),a.a.createElement("span",{className:U.a.end},a.a.createElement(te,null))),a.a.createElement("article",{className:U.a.Now},a.a.createElement("time",{dateTime:n.date},Y()(n.date).format("dddd, MMMM Do YYYY")),a.a.createElement("div",{className:U.a.Now_Condition_Text},s.description),a.a.createElement("section",{className:U.a.Now_Body},a.a.createElement("section",{className:U.a.Now_Condition},d,a.a.createElement("span",{className:U.a.icon},a.a.createElement(X,{code:n.conditionCode}))),a.a.createElement("table",{className:U.a.TemperaturesTable},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"Highest"),a.a.createElement("td",null,u)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"Lowest"),a.a.createElement("td",null,p)),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},"Average"),a.a.createElement("td",null,m)))))),a.a.createElement("section",{className:U.a.Days},o.map(function(e){return a.a.createElement(K,Object.assign({key:Y()(e.date).unix()},e))})))});var oe=Object(c.b)(function(e){var t=e.ui,n=t.loading;return{showResults:t.showResults,loading:n,error:t.error}})(function(e){var t=e.showResults,n=e.loading,o=e.error;return a.a.createElement("main",{className:x.a.AppContainer},n&&a.a.createElement(V,null),o&&a.a.createElement(I,{message:o}),t?a.a.createElement(ne,null):a.a.createElement(D,null))});var ae=function(){return Object(o.useEffect)(function(){var e,t=JSON.parse(window.localStorage.getItem(S));null!==t&&O.dispatch((e=t,function(t){return t(N(e)),t(k())}))},[]),a.a.createElement(c.a,{store:O},a.a.createElement(oe,null))},re=document.getElementById("root");if(!re)throw new Error("Root element not found.");i.a.render(a.a.createElement(ae,null),re)}],[[27,1,2]]]);
//# sourceMappingURL=main.f63af24d.chunk.js.map